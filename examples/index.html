<!DOCTYPE html> 
<html lang="en"> 
<head> 
	<meta charset="utf-8">
	<title>jMol - a jQuery plugin for Jmol</title>
	<meta http-equiv="Content-Language" content="en" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta http-equiv="Lang" content="en">
	<meta name="copyright" content="">
	<meta name="author" content="">  
	<meta name="description" content="">
	<meta name="keywords" content="">
	<link rel="stylesheet" type="text/css" href="assets/css/main.css" media="screen, projection">
</head>
<body>
	<div id="holder">
		<div id="wrap">
			<!-- HEADER -->
			<div id="header">
				<h1>jMol - a jQuery plugin for <a href="http://jmol.sourceforge.net/">Jmol</a></h1>
				<p>This plugin is intended to replace the old-school Jmol.js and add the ease of use of jQuery coding style. Also this plugin is inteded to work with W3C standards compatible tags (maybe breaking backwards compatibility with old-school browsers) and get rid of improper use of inline scripting.</p>
			</div>
			<!-- // HEADER -->
			<div id="content-wrap">
				<!-- CONTENT -->
				<div id="content">
					<h2 id="download">Download</h2>
					<p>The project itself is hosted on GitHub. You can view it <a href="https://github.com/gusc/jMol">here</a>.</p>
					<p>Current version is: 1.0.0 alpha</p>
					<h2 id="installation">Installation</h2>
					<pre>
&lt;!DOCTYPE html&gt; 
&lt;html lang="en"&gt;
&lt;head&gt; 
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;jMol Site&lt;/title&gt;
  &lt;script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6/jquery.min.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript" src="jquery.jmol.min.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript" src="main.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id="my-jmol-viewer"&gt;This content will be replaced with Jmol applet&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
					<h2 id="initialization">Initialization</h2>
					<p>The contents of main.js:</p>
					<pre>
$(document).ready(function(){
  $('#my-jmol-viewer').jmol({
    appletUrl : '/jmol/',
    width: 640,
    height: 480,
    menuUrl : '/jmol/jmol.mnu',
    modelUrl : '/test.pdb',
    background: '#FFFFFF',
  });
});
</pre>
					<h2 id="scripting">Sending script messages after initialization</h2>
					<pre>
// after initialization jmol method will route all the calls to the script method
// of Jmol applet. All the commands are documented on http://chemapps.stolaf.edu/jmol/docs/
$('#my-jmol-viewer').jmol('load /other_test.pdb'); 
</pre>
					<h2>Options</h2>
					<dl id="options">
						<dt>appletUrl</dt>
						<dd>URL to the directory where Jmol applets reside <em>(default: empty)</em></dd>
						<dt>useSigned</dt>
						<dd>Weather to load a signed or unsigned applet <em>(default: false)</em></dd>
						<dt>syncId</dt>
						<dd>Jmol synchronization ID, if 0 specified new one will be generated <em>(default: 0)</em></dd>
						<dt>memLimit</dt>
						<dd>Java memory limit in megabytes <em>(default: 512)</em></dd>
						<dt>width</dt>
						<dd>Width of an applet window <em>(default: 400)</em></dd>
						<dt>height</dt>
						<dd>height of an applet window <em>(default: 300)</em></dd>
						<dt>menuUrl</dt>
						<dd>Jmol menu file URL <em>(default: 'jmol.mnu')</em></dd>
						<dt>modelUrl</dt>
						<dd>model file to load at startup <em>(default: empty)</em></dd>
						<dt>background</dt>
						<dd>background color of Jmol applet <em>(default: '#000000')</em></dd>
					</dl>
					<p>There are also callback options, where you specify your own callback function.</p>
					<dl id="callbacks">
						<dt>onEcho(<em>msg</em>)</dt>
						<dd><p>receives ECHO command output from Jmol applet. Arguments:</p>
							<ul>
								<li><strong>msg</strong> - string message</li>
							</ul></dd>
						<dt>onScript(<em>arguments</em>)</dt>
						<dd><p>receives script specific messages from Jmol applet. Arguments:</p>
							<ul>
							  <li><strong>arguments</strong> - an array of raw arguments received from Jmol</li>
							</ul></dd>
						<dt>onMessage(<em>arguments</em>)</dt>
						<dd><p>receives any type of messages (including echo or script, if their callbacks are not specified). Arguments:</p>
							<ul>
							  <li><strong>arguments</strong> - an array of raw arguments received from Jmol</li>
							</ul></dd>
					</dl>
					<h2 id="events">Events</h2>
					<p>Starting from version 1.1.0 jMol sends events received through callbacks from Jmol.</p>
					<dl>
						<dt>ready</dt>
						<dd><p>invoked when Jmol applet becomes ready. Handler arguments:</p>
							<ul>
								<li><strong>event</strong> - standard event object</li>
							  <li><strong>uid</strong> - unique internal ID of Jmol</li>
							</ul></dd>
						<dt>destroy</dt>
						<dd><p>invoked when Jmol applet gets destroyed. Handler arguments:</p>
							<ul>
								<li><strong>event</strong> - standard event object</li>
							  <li><strong>uid</strong> - unique internal ID of Jmol</li>
							</ul></dd>
						<dt>hover</dt>
						<dd><p>invoked when a mouse hovers an atom. Handler arguments:</p>
							<ul>
							  <li><strong>event</strong> - standard event object</li>
							  <li><strong>atom</strong> - an atom object</li>
							</ul>
							<p>An atom object structure:</p><pre>
{
	index : integer, zero based atom index in the model file,
	name : string, name of an atom as defined in model file,
	num : string, number of an atom as defined in model file,
	coords : {
		x : float, x coordinate,
		y : float, y coordinate,
		z : float, z coordinate
	}
}						
</pre></dd>
						<dt>pick</dt>
						<dd><p>invoked when a mouse picks (selects, clicks) an atom. Handler arguments:</p>
							<ul>
								<li><strong>event</strong> - standard event object</li>
							  <li><strong>atom</strong> - an atom object</li>
							</ul></dd>	
						<dt>load</dt>
						<dd><p>invoked when a model file has been loaded. Handler arguments:</p>
							<ul>
								<li><strong>event</strong> - standard event object</li>
							  <li><strong>info</strong> - file loading info object</li>
							</ul>
							<p>A file load info object structure:</p><pre>
{
	url : string, URL of a file loaded,
	file_name : string, file name without a directory path,
	name : string, internal model name,
	err_msg : string, error message, if any,
	err_no : string, error number, if any,
	frame_prev : string, frame number prior to loading the current model, in file.model form
	frame_last : string, last frame number after loading the current model, in file.model form
}						
</pre></dd>
						<dt>measure</dt>
						<dd><p>invoked when a measurement has been made. Handler arguments:</p>
							<ul>
								<li><strong>event</strong> - standard event object</li>
							  <li><strong>measurement</strong> - a measurement result object</li>
							</ul>
							<p>A measurement object structure:</p><pre>
{
	type : string, one of the following "distance", "angle", "torsion",
	value : float, measurement value
}						
</pre></dd>
					</dl>
        	<h2 id="examples">Examples</h2>
        	<ul>
        		<li><a href="init.html">Simple initialization</a></li>
        		<li><a href="loader.html">Simple URL loader</a></li>
        		<li><a href="ajax.html">AJAX loader</a></li>
        		<li><a href="controlls.html">Controlls and Events</a></li>
        	</ul>
        	<h2 id="roadmap">Roadmap</h2>
        	<ul>
        		<li>Testing and debugging;</li>
        		<li>Build a CSS framework and a default theme so to replace the need for an old jmolButton, jmolCheckbox methods;</li>
        		<li>Parse measurement messages and add atom information to measurement object as well.</li>
        	</ul>
        	<h2 id="changelog">Changelog</h2>
        	<dl>
        		<dt><em>2012.07.12</em> 1.1.0</dt>
        		<dd><p>Only messaging callbacks are available as callback options through jQuery. Hover, pick, load, ready and destroy are now sent as an event, so you can bind and unbind a listener. Also the plugin does not replace the placeholder, but instead use it as a base object, applet gets appended inside with an ID of placeholder preceding with underscore.</p></dd>
        		<dt><em>2012.07.11</em> 1.0.2 alpha</dt>
        		<dd><p>Timeout did not work, so I found that ready callback sent an extra parameter - internal Java object with all the public methods.</p></dd>
        		<dt><em>2012.07.11</em> 1.0.1 alpha</dt>
        		<dd><p>Removed applet file name from jQuery options, now they are hard coded Introduced useSigned:Boolean option, weather to load signed or unsigned applet Little more cheating on unresponsive Java applet - reset DOM tree and try to push scripts after setTimeout</p></dd>
        		<dt><em>2012.07.10</em> 1.0.0 alpha</dt>
        		<dd><p>Initial release</p></dd>
        	</ul>
				</div>
				<!-- // CONTENT -->
			</div>
		</div>
		<!-- FOOTER -->
		<div id="footer">
			<p>&copy;2012 Gusts 'gusC' Kaksis</p>
		</div>
		<!-- // FOOTER -->
	</div>
</body>
</html>